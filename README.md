# 🖥️ 우테코 최종 미션 연습 - [출석부]

- 기능 요구 사항에 기재되지 않은, 스스로 판단한 부분은 **볼드체** 사용

## 📖 프로젝트 개요

- 우테코 출석 시스템 개발
- 출석 관리 규칙 및 시스템 설계 정책
    - 출석 시스템의 출석 확인은 크루가 캠퍼스에 들어온 후 시스템에 출석 데이터가 저장된 시간을 기준
    - 시간은 24시간 형식만 사용
        - 예: 22:30은 오후 10시 30분을 의미
    - 교육 시간은 월요일은 13:00-18:00, 화요일~금요일은 10:00-18:00
        - 해당 요일의 시작 시간으로부터 5분 초과는 지각으로 간주
        - 해당 요일의 시작 시간으로부터 30분 초과는 결석으로 간주
        - 등교하지 않아 출석 기록이 없는 날은 결석으로 간주
    - 누적 지각 및 결석 횟수에 따라 경고 또는 면담 시행. 결석 횟수가 5회를 초과하면 제적
        - 지각 3회는 결석 1회로 간주
            - 경고 대상자: 결석 2회 이상
            - 면담 대상자: 결석 3회 이상
            - 제적 대상자: 결석 5회 초과
    - 캠퍼스 운영 시간은 매일 08:00-23:00
    - 주말 및 공휴일에는 출석 받지 않음
    - 출석 시스템에 등록된 크루와 12월 출석 기록은 제공된 파일(attendances.csv)에서 확인
- 프로그램은 사용자가 종료할 때까지 종료되지 않으며, 해당 기능 수행 후 초기 화면으로 돌아감
    - 사용자가 잘못된 값을 입력할 경우 `IllegalArgumentException`을 발생시키고,
      "[ERROR]"로 시작하는 에러 메시지 출력 후 애플리케이션 종료

## 기능 요구 사항

### 기능 선택

#### 입력

- 기능 입력
    - 1은 출석 확인, 2는 출석 수정, 3은 크루별 출석 기록 확인, 4는 제적 위험자 확인, Q는 종료
    - 형식이 맞지 않을 경우 예외 발생
    - 에러 메시지: [ERROR] 잘못된 형식을 입력하였습니다.
    - 오늘이 주말이나 공휴일인데 출석 확인(1번)을 하려는 경우 예외 발생
    - 에러 메시지: [ERROR] 12월 14일 토요일은 등교일이 아닙니다.

### 출석 확인

#### 입력

- 닉네임
    - 존재하지 않는 크루 닉네임일 경우 예외 발생
    - 에러 메시지: [ERROR] 등록되지 않은 닉네임입니다.
    - 이미 출석한 크루의 닉네임인 경우 예외 발생
    - 에러 메시지: [ERROR] 이미 출석을 확인하였습니다. 필요한 경우 수정 기능을 이용해 주세요.
- 등교 시간
    - 형식이 맞지 않을 경우 예외 발생
        - 형식 예시: 09:59
    - 에러 메시지: [ERROR] 잘못된 형식을 입력하였습니다.
    - 등교 시간이 캠퍼스 운영 시간이 아닌 경우 예외 발생
        - 캠퍼스 운영 시간: 08:00~23:00
    - 에러 메시지: [ERROR] 캠퍼스 운영 시간에만 출석이 가능합니다.

#### 출력

- 출석 메시지

```
12월 05일 화요일 09:59 (출석)
```

### 출석 수정

#### 입력

- 닉네임
    - 존재하지 않는 크루 닉네임일 경우 예외 발생
    - 에러 메시지: [ERROR] 등록되지 않은 닉네임입니다.
- 수정하려는 날짜(일)
    - 숫자를 제외한 문자가 포함된 경우 예외 발생
    - 숫자가 int 범위를 초과할 경우 예외 발생
    - 숫자가 1이상, 31 이하가 아닐 경우 예외 발생
    - 에러 메시지: [ERROR] 잘못된 형식을 입력하였습니다.
    - 주말 또는 공휴일을 입력한 경우 예외 발생
    - 에러 메시지: [ERROR] 12월 14일 토요일은 등교일이 아닙니다.
    - 미래 날짜를 입력한 경우 예외 발생
    - 에러 메시지: [ERROR] 아직 수정할 수 없습니다.
- 등교 시간
    - 형식이 맞지 않을 경우 예외 발생
        - 형식 예시: 09:59
    - 에러 메시지: [ERROR] 잘못된 형식을 입력하였습니다.
    - 등교 시간이 캠퍼스 운영 시간이 아닌 경우 예외 발생
        - 캠퍼스 운영 시간: 08:00~23:00
    - 에러 메시지: [ERROR] 캠퍼스 운영 시간에만 출석이 가능합니다.

#### 출력

- 수정 완료 메시지

```
12월 03일 화요일 10:07 (지각) -> 09:58 (출석) 수정 완료!
```

### 크루별 출석 기록 확인

#### 입력

- 닉네임
    - 존재하지 않는 크루 닉네임일 경우 예외 발생
    - 에러 메시지: [ERROR] 등록되지 않은 닉네임입니다.

#### 출력

- 전날까지의 크루 출석 기록 확인

```
이번 달 빙티의 출석 기록입니다.

12월 02일 월요일 13:00 (출석)
12월 03일 화요일 10:07 (지각)
12월 04일 수요일 10:02 (출석)
12월 05일 목요일 10:06 (지각)
12월 06일 금요일 10:01 (출석)
12월 09일 월요일 --:-- (결석)
12월 10일 화요일 10:03 (출석)
12월 11일 수요일 --:-- (결석)
12월 12일 목요일 --:-- (결석)
12월 13일 금요일 10:02 (출석)

출석: 3회
지각: 0회
결석: 3회

면담 대상자입니다.
```

### 제적 위험자 확인

#### 출력

- 전날까지의 크루 출석 기록을 바탕으로 제적 위험자 파악
- 제적 위험자는 제적 대상자, 면담 대상자, 경고 대상자순으로 출력
    - 대상 항목별 정렬 순서는 지각을 결석으로 간주해 내림차순
    - 출석 상태가 같으면 닉네임으로 오름차순 정렬

```
제적 위험자 조회 결과
- 빙티: 결석 3회, 지각 4회 (면담)
- 이든: 결석 2회, 지각 5회 (면담)
- 빙봉: 결석 1회, 지각 6회 (면담)
- 쿠키: 결석 2회, 지각 3회 (면담)
- 짱수: 결석 0회, 지각 6회 (경고)
```

## ⌨️ 입출력 요구 사항

### 입력

- `src/main/resources/attendances.csv`를 통해 구현에 필요한 정보 조회
    - 닉네임과 출석 일시가 기록되어 있음
    - 파일 내용은 수정 불가

```
nickname,datetime
쿠키,2024-12-13 10:08
빙봉,2024-12-13 10:07
빙티,2024-12-13 10:07
이든,2024-12-13 10:07
```

### 실행 결과 예시

- 실행 결과 1

```
오늘은 12월 14일 토요일입니다. 기능을 선택해 주세요.
1. 출석 확인
2. 출석 수정
3. 크루별 출석 기록 확인
4. 제적 위험자 확인
Q. 종료
1

[ERROR] 12월 14일 토요일은 등교일이 아닙니다.
```

- 실행 결과 2

```
오늘은 12월 13일 금요일입니다. 기능을 선택해 주세요.
1. 출석 확인
2. 출석 수정
3. 크루별 출석 기록 확인
4. 제적 위험자 확인
Q. 종료
1

닉네임을 입력해 주세요.
빈봉

[ERROR] 등록되지 않은 닉네임입니다.
```

- 실행 결과 3

```
오늘은 12월 13일 금요일입니다. 기능을 선택해 주세요.
1. 출석 확인
2. 출석 수정
3. 크루별 출석 기록 확인
4. 제적 위험자 확인
Q. 종료
1

닉네임을 입력해 주세요.
이든
등교 시간을 입력해 주세요.
09:59

12월 13일 금요일 09:59 (출석)

오늘은 12월 13일 금요일입니다. 기능을 선택해 주세요.
1. 출석 확인
2. 출석 수정
3. 크루별 출석 기록 확인
4. 제적 위험자 확인
Q. 종료
2

출석을 수정하려는 크루의 닉네임을 입력해 주세요.
빙티
수정하려는 날짜(일)를 입력해 주세요.
3
언제로 변경하겠습니까?
09:58

12월 03일 화요일 10:07 (지각) -> 09:58 (출석) 수정 완료!

오늘은 12월 13일 금요일입니다. 기능을 선택해 주세요.
1. 출석 확인
2. 출석 수정
3. 크루별 출석 기록 확인
4. 제적 위험자 확인
Q. 종료
3

닉네임을 입력해 주세요.
빙티

이번 달 빙티의 출석 기록입니다.

12월 02일 월요일 13:00 (출석)
12월 03일 화요일 09:58 (출석)
12월 04일 수요일 10:02 (출석)
12월 05일 목요일 10:06 (지각)
12월 06일 금요일 10:01 (출석)
12월 09일 월요일 --:-- (결석)
12월 10일 화요일 10:08 (지각)
12월 11일 수요일 --:-- (결석)
12월 12일 목요일 --:-- (결석)

출석: 4회
지각: 2회
결석: 3회

면담 대상자입니다.

오늘은 12월 13일 금요일입니다. 기능을 선택해 주세요.
1. 출석 확인
2. 출석 수정
3. 크루별 출석 기록 확인
4. 제적 위험자 확인
Q. 종료
4

제적 위험자 조회 결과
- 빙티: 결석 3회, 지각 2회 (면담)
- 이든: 결석 2회, 지각 4회 (면담)
- 쿠키: 결석 2회, 지각 2회 (경고)
- 빙봉: 결석 1회, 지각 5회 (경고)

오늘은 12월 13일 금요일입니다. 기능을 선택해 주세요.
1. 출석 확인
2. 출석 수정
3. 크루별 출석 기록 확인
4. 제적 위험자 확인
Q. 종료
Q
```

## 📜 프로그래밍 요구사항

### 라이브러리

- `camp.nextstep.edu.missionutils`에서 제공하는 `DateTimes` 및 `Console API`를 사용하여 구현
    - 현재 날짜와 시간을 가져오려면 `camp.nextstep.edu.missionutils.DateTimes`의 `now()`를 활용
    - 사용자가 입력하는 값은 `camp.nextstep.edu.missionutils.Console`의 `readLine()`을 활용

## ✅ 구현 기능 목록

### 크루, 출석 데이터 생성

- `src/main/resources/attendances.csv`를 통해 크루, 출석 데이터 생성

### 기능 선택 입력

```
오늘은 12월 14일 토요일입니다. 기능을 선택해 주세요.
1. 출석 확인
2. 출석 수정
3. 크루별 출석 기록 확인
4. 제적 위험자 확인
Q. 종료
1
```

- 사용자에게 입력값 요청
    - `camp.nextstep.edu.missionutils.Console`의 `readLine()` 활용
- 입력값 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 후 종료
    - 1은 출석 확인, 2는 출석 수정, 3은 크루별 출석 기록 확인, 4는 제적 위험자 확인, Q는 종료
    - 형식이 맞지 않을 경우 예외 발생
    - 에러 메시지: [ERROR] 잘못된 형식을 입력하였습니다.
    - 오늘이 주말이나 공휴일인데 출석 확인(1번)을 하려는 경우 예외 발생
    - 에러 메시지: [ERROR] 12월 14일 토요일은 등교일이 아닙니다.

### 출석 확인 기능 입력

```
닉네임을 입력해 주세요.
이든
등교 시간을 입력해 주세요.
09:59
```

- 사용자에게 입력값 요청
    - `camp.nextstep.edu.missionutils.Console`의 `readLine()` 활용
- 입력값 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 후 종료
    - 닉네임
        - 존재하지 않는 크루 닉네임일 경우 예외 발생
        - 에러 메시지: [ERROR] 등록되지 않은 닉네임입니다.
        - 이미 출석한 크루의 닉네임인 경우 예외 발생
        - 에러 메시지: [ERROR] 이미 출석을 확인하였습니다. 필요한 경우 수정 기능을 이용해 주세요.
    - 등교 시간
        - 형식이 맞지 않을 경우 예외 발생
            - 형식 예시: 09:59
        - 에러 메시지: [ERROR] 잘못된 형식을 입력하였습니다.
        - 등교 시간이 캠퍼스 운영 시간이 아닌 경우 예외 발생
            - 캠퍼스 운영 시간: 08:00~23:00
        - 에러 메시지: [ERROR] 캠퍼스 운영 시간에만 출석이 가능합니다.

### 출석 확인 메시지 출력

```
12월 05일 화요일 09:59 (출석)
```

### 출석 수정 기능 입력

```
출석을 수정하려는 크루의 닉네임을 입력해 주세요.
빙티
수정하려는 날짜(일)를 입력해 주세요.
3
언제로 변경하겠습니까?
09:58
```

- 사용자에게 입력값 요청
    - `camp.nextstep.edu.missionutils.Console`의 `readLine()` 활용
- 입력값 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 후 종료
    - 닉네임
        - 존재하지 않는 크루 닉네임일 경우 예외 발생
        - 에러 메시지: [ERROR] 등록되지 않은 닉네임입니다.
    - 수정하려는 날짜(일)
        - 숫자를 제외한 문자가 포함된 경우 예외 발생
        - 숫자가 int 범위를 초과할 경우 예외 발생
        - 숫자가 1이상, 31 이하가 아닐 경우 예외 발생
        - 에러 메시지: [ERROR] 잘못된 형식을 입력하였습니다.
        - 주말 또는 공휴일을 입력한 경우 예외 발생
        - 에러 메시지: [ERROR] 12월 14일 토요일은 등교일이 아닙니다.
        - 미래 날짜를 입력한 경우 예외 발생
        - 에러 메시지: [ERROR] 아직 수정할 수 없습니다.
    - 등교 시간
        - 형식이 맞지 않을 경우 예외 발생
            - 형식 예시: 09:59
        - 에러 메시지: [ERROR] 잘못된 형식을 입력하였습니다.
        - 등교 시간이 캠퍼스 운영 시간이 아닌 경우 예외 발생
            - 캠퍼스 운영 시간: 08:00~23:00
        - 에러 메시지: [ERROR] 캠퍼스 운영 시간에만 출석이 가능합니다.

### 출석 수정 완료 메시지 출력

```
12월 03일 화요일 10:07 (지각) -> 09:58 (출석) 수정 완료!
```

### 크루별 출석 기록 확인 기능 입력

```
닉네임을 입력해 주세요.
빙티
```

- 사용자에게 입력값 요청
    - `camp.nextstep.edu.missionutils.Console`의 `readLine()` 활용
- 입력값 검증: 잘못된 값일 경우 `IllegalArgumentException` 발생 후 종료
    - 존재하지 않는 크루 닉네임일 경우 예외 발생
    - 에러 메시지: [ERROR] 등록되지 않은 닉네임입니다.

### 경고, 면담, 제적 대상인지 확인

- 누적 지각 및 결석 횟수에 따라 경고 또는 면담 시행. 결석 횟수가 5회를 초과하면 제적
    - 지각 3회는 결석 1회로 간주
        - 경고 대상자: 결석 2회 이상
        - 면담 대상자: 결석 3회 이상
        - 제적 대상자: 결석 5회 초과

### 크루별 출석 기록 출력

```
이번 달 빙티의 출석 기록입니다.

12월 02일 월요일 13:00 (출석)
12월 03일 화요일 10:07 (지각)
12월 04일 수요일 10:02 (출석)
12월 05일 목요일 10:06 (지각)
12월 06일 금요일 10:01 (출석)
12월 09일 월요일 --:-- (결석)
12월 10일 화요일 10:03 (출석)
12월 11일 수요일 --:-- (결석)
12월 12일 목요일 --:-- (결석)
12월 13일 금요일 10:02 (출석)

출석: 3회
지각: 0회
결석: 3회

면담 대상자입니다.
```

- 경고, 면담, 제적 대상자가 아닐 경우 출력 X

### 제적 위험자 확인

- 전날까지의 크루 출석 기록을 바탕으로 제적 위험자 파악
    - 지각 3회는 결석 1회로 간주
        - 경고 대상자: 결석 2회 이상
        - 면담 대상자: 결석 3회 이상
        - 제적 대상자: 결석 5회 초과
- 제적 대상자, 면담 대상자, 경고 대상자순으로 출력
    - 대상 항목별 정렬 순서는 지각을 결석으로 간주해 내림차순
    - 출석 상태가 같으면 닉네임으로 오름차순 정렬
